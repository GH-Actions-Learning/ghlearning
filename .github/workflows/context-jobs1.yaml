name: Job Outcome Example

on: push

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Building..."

  test:
    runs-on: ubuntu-latest
    needs: build
    steps:
      - run: echo "Testing..."

  deploy:
    runs-on: ubuntu-latest
    needs: [build, test]
    steps:
    - name: Show job outcomes
      run: |
        echo "Build job outcome: ${{ jobs.build.outcome }}"
        echo "Test job outcome: ${{ jobs.test.outcome }}"
      
    - name: Conditional deploy
      if: ${{ jobs.build.outcome == 'success' && jobs.test.outcome == 'success' }}
      run: echo "Deploying application..."

    - name: Skip deploy notice
      if: ${{ !(jobs.build.outcome == 'success' && jobs.test.outcome == 'success') }}
      run: echo "Deploy skipped due to build or test failure."
