What are secrets in GitHub Actions?

Secrets in GitHub Actions are encrypted environment variables that you can use to securely store sensitive data, such as:

1) API keys

2) Access tokens

3) Passwords

4) SSH private keys

5) Azure service principal credentials

6) AWS credentials

They are not visible in logs, cannot be read directly in workflows, and help prevent leaks of sensitive data.

| Feature                | Description                                                                         |
| ---------------------- | ----------------------------------------------------------------------------------- |
| Encrypted Storage      | Secrets are stored securely in GitHub and encrypted at rest.                        |
| Scoped                 | Secrets can be set at **repository**, **organization**, or **environment** levels.  |
| Read-Only in Workflows | Secrets cannot be modified in workflows â€” only read.                                |
| Masked in Logs         | If a secret value is echoed or accidentally printed, GitHub automatically masks it. |

ğŸ” Types of Secrets in GitHub Actions

| Scope                       | Use Case                                                                     |
| --------------------------- | ---------------------------------------------------------------------------- |
| ğŸ”¹ **Repository secrets**   | Most common â€” used by workflows in a single repository.                      |
| ğŸ”¹ **Environment secrets**  | Useful when different secrets are needed for **dev/test/prod environments**. |
| ğŸ”¹ **Organization secrets** | Shared across multiple repositories â€” best for consistency and governance.   |

---

ğŸ›¡ï¸ Why Are Secrets Important?

âœ… Security
Secrets are encrypted at rest and masked in logs.

âœ… Access Control
They can be scoped to repos, environments, or orgs.

âœ… Prevent Secret Leaks
GitHub automatically hides (***) secret values in output/logs.

âœ… Essential for DevOps Pipelines
Every cloud login, deployment, and notification in CI/CD depends on secrets.

---
ğŸ”‘ Characteristics of GitHub Secrets

| Feature                  | Explanation                                    |
| ------------------------ | ---------------------------------------------- |
| ğŸ”’ Encrypted             | Secrets are stored encrypted by GitHub.        |
| ğŸ§­ Context-based access  | Available only inside workflows.               |
| ğŸªª Masked                 | Secrets are masked (e.g., `***`) in logs.      |
| ğŸ§¾ Read-only             | Cannot be modified in workflows.               |
| ğŸ‘€ Not visible           | You canâ€™t echo them plainly; they wonâ€™t print. |
| ğŸ§‘â€ğŸ’» Set via UI/CLI/API | Manage via GitHub web UI, `gh` CLI, or API.    |

---
ğŸ†š Secrets vs. Variables

| Feature        | Secrets               | GitHub Variables          |
| -------------- | --------------------- | ------------------------- |
| Encrypted      | âœ… Yes                 | âŒ No                      |
| Masked in logs | âœ… Yes                 | âŒ No                      |
| Use case       | Sensitive data        | Config/data not sensitive |
| Syntax         | `${{ secrets.NAME }}` | `${{ vars.NAME }}`        |


---
âš ï¸ Limitations of Secrets

| Limitation               | Description                                                       |
| ------------------------ | ----------------------------------------------------------------- |
| Max size per secret      | **48â€¯KB** per secret                                              |
| Secrets per repository   | Up to **100** repository secrets                                  |
| Secrets per environment  | Up to **100** environment secrets                                 |
| Secrets per organization | Up to **1,000** organization secrets                              |
| Access in PRs from forks | Secrets are **not accessible** in workflows run on PRs from forks |
| Editable in workflows    | Secrets are **read-only** inside workflows                        |

---
Difference Between Environment Secrets and Repository Secrets

| Feature                           | Repository Secrets                                   | Environment Secrets                                   |
| --------------------------------- | ---------------------------------------------------- | ----------------------------------------------------- |
| ğŸ” **Where Defined**              | Repo â†’ Settings â†’ Secrets â†’ Actions                  | Repo â†’ Settings â†’ Environments â†’ \[Env] â†’ Secrets     |
| ğŸ§­ **Scope**                      | Global to the whole repoâ€™s workflows                 | Scoped to jobs that declare that specific environment |
| ğŸ·ï¸ **When Available**            | Available in **any job** of any workflow in the repo | Available **only in jobs that use that environment**  |
| âœ… **Approval Support**            | âŒ No approval support                                | âœ… Supports required reviewers before execution        |
| ğŸ” **Use Case**                   | Generic secrets (e.g., Docker password, tokens)      | Stage-specific secrets (e.g., prod/staging API keys)  |
| ğŸ§  **Access Control Granularity** | Low (global to repo)                                 | High (per-environment, per-job)                       |


---
ğŸ§  Quick Rules to Remember

1) Secrets are not automatically inherited across scopes: 
    You must specifically define secrets at the organization, repository, or environment level where you want to use them. Even with reusable workflows, secrets are not automatically passed unless you use the secrets: inherit keyword in your workflow configuration. 
    Without that explicit configuration, secrets defined at one scope are not inherited by workflows or jobs in other scopes.

2) Lower-level secrets override higher-level secrets when names clash: 
    If a secret with the same name exists in both repository and environment scopes, the secret defined in the lower scope (e.g., environment) takes precedence when accessed in that scope.

3) Secrets are confined to the scope theyâ€™re defined in (organization, repository, or environment): 
    Secrets at each scope (organization, repository, or environment) are only available to workflows running in that scope. They aren't available by default to other scopes.

4) Secrets with the same name in different scopes are independent, but precedence is respected: 
    If secrets with the same name exist in multiple scopes, they do not share values; each must be managed separately, and GitHub uses scope precedence rules to determine which value is used in a workflow.


---
ğŸ§  Basics: Accessing Secrets in a Workflow

You access any secret in a workflow like this:

    ${{ secrets.SECRET_NAME }}

This works:

1. Inside run: commands

2. In env: blocks

3. In with: inputs (for actions)